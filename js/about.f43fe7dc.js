"use strict";(self["webpackChunklottery"]=self["webpackChunklottery"]||[]).push([[443],{8493:function(e,a,t){t.r(a),t.d(a,{default:function(){return y}});var l=t(3396),o=t(9242),n=t(7139);const i={class:"wrap"},s={class:"container"},r={key:0,class:"red-package"},p={class:"money-show"},c=["onClick"],d={class:"open-btn-wrap"},k={class:"footer"},m={class:"money-s"},g={class:"total"};function h(e,a,t,h,u,w){const f=(0,l.up)("van-button"),y=(0,l.up)("van-popup");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",i,[(0,l._)("div",s,[(0,l.Wm)(o.W3,{name:"list",tag:"div",class:"packages-wrap"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(u.packages,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"package-item",key:e.id},[e.open?((0,l.wg)(),(0,l.iD)("div",r,[(0,l._)("span",p,(0,n.zw)(e.money),1)])):((0,l.wg)(),(0,l.iD)("div",{key:1,class:"red-package un-open",onClick:a=>w.open(e)},[(0,l._)("div",d,[(0,l._)("div",{class:(0,n.C_)(["open-btn",e.rollback])},"￥",2)])],8,c))])))),128))])),_:1})]),(0,l._)("div",k,[(0,l.Wm)(f,{color:"linear-gradient(to right, #ff6034, #ee0a24)",style:{"padding-left":"2rem","padding-right":"2rem"},size:"small",round:"",type:"primary",onClick:w.oneMore},{default:(0,l.w5)((()=>[(0,l.Uk)("再来一次")])),_:1},8,["onClick"]),(0,l.Wm)(f,{color:"linear-gradient(to right, #ff6034, #ee0a24)",style:{"padding-left":"2em","padding-right":"2rem"},size:"small",round:"",type:"primary",onClick:w.openAll},{default:(0,l.w5)((()=>[(0,l.Uk)((0,n.zw)(u.isAllOpened?"去收账":"全开"),1)])),_:1},8,["onClick"]),u.isAllOpened?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(f,{key:0,color:"linear-gradient(to right, #ff6034, #ee0a24)",style:{"padding-left":"2rem","padding-right":"2rem"},size:"small",round:"",type:"primary",onClick:w.qOpenAll},{default:(0,l.w5)((()=>[(0,l.Uk)("快速全开")])),_:1},8,["onClick"]))])]),(0,l.Wm)(y,{show:u.show,"onUpdate:show":a[0]||(a[0]=e=>u.show=e),class:"result-container"},{default:(0,l.w5)((()=>[(0,l._)("div",null,(0,n.zw)(u.name)+"获得的红包为",1),(0,l._)("div",m,[(0,l._)("span",g,(0,n.zw)(u.totalMoney),1),(0,l.Uk)(" 元")])])),_:1},8,["show"])],64)}t(560);var u={name:"HomeView",data(){return{packages:[],rollback:"",isAllOpened:!1,show:!1,name:"",totalMoney:0}},watch:{packages:{deep:!0,handler(e){let a=e.filter((e=>1==e.open));this.isAllOpened=a.length==this.packages.length}}},created(){let{min:e,max:a,name:t,total:l}=this.$route.query;this.name=t,this.$nextTick((()=>{for(let t=1;t<=l;t++)this.packages.push({id:t,money:this.getRandom(e,a),open:!1,rollback:""})}))},methods:{getRandom(e,a){let t=1*e,l=1*a;return t==l?t:(1*(Math.random()*(l-t)).toFixed(2)+t).toFixed(2)},open(e){e.rollback="rollback",setTimeout((()=>{e.open=!0}),1e3)},oneMore(){this.$router.go(-1)},qOpenAll(){this.packages.filter((e=>!e.open)).map(((e,a)=>{e.rollback="rollback",setTimeout((()=>{e.open=!0}),1e3)}))},openAll(){if(this.isAllOpened){let e=0;return this.packages.map((a=>{e+=1*a.money})),this.totalMoney=e.toFixed(2).toString(),void(this.show=!0)}this.packages.filter((e=>!e.open)).map(((e,a)=>{setTimeout((()=>{e.rollback="rollback",setTimeout((()=>{e.open=!0}),1e3)}),1e3*a)}))}}},w=t(89);const f=(0,w.Z)(u,[["render",h],["__scopeId","data-v-59e8bc6f"]]);var y=f}}]);
//# sourceMappingURL=about.f43fe7dc.js.map